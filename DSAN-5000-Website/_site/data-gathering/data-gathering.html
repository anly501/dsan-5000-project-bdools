<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DSAN-5000: Project - Data Gathering</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="https://kclsed.org/wp-content/uploads/2020/02/3u-georgetown-university-logo-600x200-1.png">
    <span class="navbar-title">DSAN-5000: Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/anly501/dsan-5000-project-bdools" rel="" target="">
 <span class="menu-text">Code</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1-H9c243q2D5CB6wgZD7c40CGSjNJjs4s?usp=drive_link" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../introduction/introduction.html" rel="" target="">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../data-gathering/data-gathering.html" rel="" target="" aria-current="page">
 <span class="menu-text">Data Gathering</span></a>
  </li>  
  <li class="dropdown-header">
 <span class="menu-text">Data Cleaning</span></li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-">    
        <li>
    <a class="dropdown-item" href="../data-cleaning/data-cleaning_python.html" rel="" target="">
 <span class="dropdown-text">Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../data-cleaning/data-cleaning_r.html" rel="" target="">
 <span class="dropdown-text">R</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../data-exploration/data-exploration.html" rel="" target="">
 <span class="menu-text">Data Exploration</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../clustering/clustering.html" rel="" target="">
 <span class="menu-text">Clustering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../dimensionality-reduction/dimensionality-reduction.html" rel="" target="">
 <span class="menu-text">Dimensionality Reduction</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-decision-trees" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Decision Trees</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-decision-trees">    
        <li>
    <a class="dropdown-item" href="../decision-trees/classification/classification.html" rel="" target="">
 <span class="dropdown-text">Classification</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../decision-trees/regression/regression.html" rel="" target="">
 <span class="dropdown-text">Regression</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../arm/arm.html" rel="" target="">
 <span class="menu-text">ARM</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../conclusions/conclusions.html" rel="" target="">
 <span class="menu-text">Conclusions</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="https://github.com/anly501/dsan-5000-project-bdools" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><strong>Introduction</strong></a></li>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data"><strong>Importing Data</strong></a>
  <ul class="collapse">
  <li><a href="#fda-data" id="toc-fda-data" class="nav-link" data-scroll-target="#fda-data"><strong>FDA Data</strong></a></li>
  <li><a href="#sec-edgar-10k-annual-financial-filings" id="toc-sec-edgar-10k-annual-financial-filings" class="nav-link" data-scroll-target="#sec-edgar-10k-annual-financial-filings"><strong>SEC EDGAR 10(K) Annual Financial Filings</strong></a></li>
  </ul></li>
  <li><a href="#next-steps-data-cleaning-to-do-list" id="toc-next-steps-data-cleaning-to-do-list" class="nav-link" data-scroll-target="#next-steps-data-cleaning-to-do-list"><strong>Next Steps: Data Cleaning To-Do List</strong></a>
  <ul class="collapse">
  <li><a href="#matching-fda-company-names-with-and-sec-edgar-data" id="toc-matching-fda-company-names-with-and-sec-edgar-data" class="nav-link" data-scroll-target="#matching-fda-company-names-with-and-sec-edgar-data"><strong>Matching FDA company names with and SEC EDGAR Data</strong></a></li>
  <li><a href="#r-edgar-package-api-pull-of-10k-filings-company-descriptions" id="toc-r-edgar-package-api-pull-of-10k-filings-company-descriptions" class="nav-link" data-scroll-target="#r-edgar-package-api-pull-of-10k-filings-company-descriptions"><strong>R <code>edgar</code> Package: API Pull of 10(K) Filings Company Descriptions</strong></a></li>
  <li><a href="#newsapi-pull-via-python" id="toc-newsapi-pull-via-python" class="nav-link" data-scroll-target="#newsapi-pull-via-python"><strong>NewsAPI Pull via Python</strong></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><strong>Data Gathering</strong></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction"><strong>Introduction</strong></h2>
<p>In this section, I will discuss the data gathering process. I will be using the following data sources:</p>
<ul>
<li>FDA 510(k) Medical Device Data</li>
<li>SEC EDGAR 10(K) Annual Financial Filings</li>
<li>Top Medical Device Company Descriptions from first page of 10(K) through <code>edgar</code> package, an API for SEC EDGAR filings in R</li>
<li>Python NewsAPI for news articles about the subeset of medical device companies I will be analyzing for my project</li>
</ul>
</section>
<section id="importing-data" class="level2">
<h2 class="anchored" data-anchor-id="importing-data"><strong>Importing Data</strong></h2>
<section id="fda-data" class="level3">
<h3 class="anchored" data-anchor-id="fda-data"><strong>FDA Data</strong></h3>
<p>The first data source is the <a href="https://open.fda.gov/%5D"><strong>FDA</strong></a>, which is the Federal Government Body responsible for regulating and approving medical devices and pharmaceuticals. Specifically, I found my medical device dataset under the <a href="https://open.fda.gov/data/downloads/"><strong>510k header</strong></a> header of the <a href="https://open.fda.gov/"><strong>openFDA</strong></a> site. The dataset is a JSON file that contains information about medical devices in the inital filing process for approval to the FDA once the company believes their device is ready to go to market. The dataset contains information about the device, the company, the approval process, and the device’s intended use. The dataset is updated daily and contains over 100,000 records.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="2023-10-12-16-08-41.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Device 510(k)</figcaption>
</figure>
</div>
<p>When I click on the <code>/device/510k data</code> link,a Zip file containing the data is downloaded onto my computer. Once unzipped, I now have access to the JSON file with the underlying data, which I will read into Python through a Pandas DataFrame once I have gathered all my data. Here’s a look at the JSON file: <img src="2023-10-12-18-22-29.png" class="img-fluid" alt="FDA JSON"></p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'/Users/dsan/My Drive/5000-Project/Data/Raw-data/FDA/510k.json'</span>,<span class="st">'r'</span>) <span class="im">as</span> f:</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    file_510k <span class="op">=</span> json.load(f)   </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#str_510k = file_510k.read()</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    df_510k <span class="op">=</span> pd.json_normalize(file_510k,<span class="st">'results'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now let’s quickly look at a glimpse of the data to get a better understanding of what it looks like.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df_510k.describe()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df_510k.info()</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>df_510k.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 166594 entries, 0 to 166593
Data columns (total 29 columns):
 #   Column                                 Non-Null Count   Dtype 
---  ------                                 --------------   ----- 
 0   third_party_flag                       166594 non-null  object
 1   city                                   166594 non-null  object
 2   advisory_committee_description         166594 non-null  object
 3   address_1                              166594 non-null  object
 4   address_2                              166594 non-null  object
 5   statement_or_summary                   166594 non-null  object
 6   product_code                           166594 non-null  object
 7   zip_code                               166594 non-null  object
 8   applicant                              166594 non-null  object
 9   decision_date                          166594 non-null  object
 10  decision_code                          166594 non-null  object
 11  country_code                           166594 non-null  object
 12  device_name                            166594 non-null  object
 13  advisory_committee                     166594 non-null  object
 14  contact                                166594 non-null  object
 15  expedited_review_flag                  166594 non-null  object
 16  k_number                               166594 non-null  object
 17  state                                  166594 non-null  object
 18  date_received                          166594 non-null  object
 19  review_advisory_committee              166594 non-null  object
 20  postal_code                            166594 non-null  object
 21  decision_description                   166594 non-null  object
 22  clearance_type                         166594 non-null  object
 23  openfda.registration_number            163690 non-null  object
 24  openfda.fei_number                     163690 non-null  object
 25  openfda.device_name                    164962 non-null  object
 26  openfda.medical_specialty_description  164962 non-null  object
 27  openfda.regulation_number              164962 non-null  object
 28  openfda.device_class                   164962 non-null  object
dtypes: object(29)
memory usage: 36.9+ MB</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">third_party_flag</th>
<th data-quarto-table-cell-role="th">city</th>
<th data-quarto-table-cell-role="th">advisory_committee_description</th>
<th data-quarto-table-cell-role="th">address_1</th>
<th data-quarto-table-cell-role="th">address_2</th>
<th data-quarto-table-cell-role="th">statement_or_summary</th>
<th data-quarto-table-cell-role="th">product_code</th>
<th data-quarto-table-cell-role="th">zip_code</th>
<th data-quarto-table-cell-role="th">applicant</th>
<th data-quarto-table-cell-role="th">decision_date</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">review_advisory_committee</th>
<th data-quarto-table-cell-role="th">postal_code</th>
<th data-quarto-table-cell-role="th">decision_description</th>
<th data-quarto-table-cell-role="th">clearance_type</th>
<th data-quarto-table-cell-role="th">openfda.registration_number</th>
<th data-quarto-table-cell-role="th">openfda.fei_number</th>
<th data-quarto-table-cell-role="th">openfda.device_name</th>
<th data-quarto-table-cell-role="th">openfda.medical_specialty_description</th>
<th data-quarto-table-cell-role="th">openfda.regulation_number</th>
<th data-quarto-table-cell-role="th">openfda.device_class</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>N</td>
<td>CHATSWORTH</td>
<td>Unknown</td>
<td>9530 DESOTO AVE.</td>
<td></td>
<td></td>
<td></td>
<td>91311</td>
<td>DEVON INDUSTRIES, INC.</td>
<td>1987-04-10</td>
<td>...</td>
<td>SU</td>
<td>91311</td>
<td>Unknown</td>
<td>Traditional</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>N</td>
<td>BRONX</td>
<td>General, Plastic Surgery</td>
<td>3830 BOSTON RD.</td>
<td></td>
<td></td>
<td>LRO</td>
<td>10475</td>
<td>FRAASS SURVIVAL SYSTEMS, INC.</td>
<td>1987-07-09</td>
<td>...</td>
<td>SU</td>
<td>10475</td>
<td>Substantially Equivalent</td>
<td>Traditional</td>
<td>[2320762, 1823410, 3011389083, 8022032, 293648...</td>
<td>[1823410, 3011389083, 2936485, 3013298431, 300...</td>
<td>General Surgery Tray</td>
<td>General, Plastic Surgery</td>
<td>878.4370</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>N</td>
<td>WILMINGTON</td>
<td>Anesthesiology</td>
<td>42 INDUSTRIAL WAY</td>
<td></td>
<td></td>
<td>BYD</td>
<td>01887</td>
<td>PORTEX, INC.</td>
<td>1988-01-19</td>
<td>...</td>
<td>AN</td>
<td>01887</td>
<td>Substantially Equivalent</td>
<td>Traditional</td>
<td>[3003902312, 3006534321, 8010485, 3006061749, ...</td>
<td>[3003902312, 3006534321, 3006061749, 301198796...</td>
<td>Condenser, Heat And Moisture (Artificial Nose)</td>
<td>Anesthesiology</td>
<td>868.5375</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>N</td>
<td>ST. LOUIS</td>
<td>General, Plastic Surgery</td>
<td>P.O. BOX 466</td>
<td></td>
<td>Summary</td>
<td>KKX</td>
<td>63166</td>
<td>ANGELICA UNIFORM</td>
<td>1995-01-02</td>
<td>...</td>
<td>HO</td>
<td>63166</td>
<td>Substantially Equivalent</td>
<td>Traditional</td>
<td>[2320762, 3007886583, 3006787036, 1032347, 300...</td>
<td>[3007886583, 3006787036, 1032347, 3004133257, ...</td>
<td>Drape, Surgical</td>
<td>General, Plastic Surgery</td>
<td>878.4370</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>N</td>
<td>BURLINGTON</td>
<td>Cardiovascular</td>
<td>32 SECOND AVE.</td>
<td></td>
<td>Statement</td>
<td>MKJ</td>
<td>01803</td>
<td>ZOLL MEDICAL CORP.</td>
<td>1993-10-07</td>
<td>...</td>
<td>CV</td>
<td>01803</td>
<td>Substantially Equivalent</td>
<td>Traditional</td>
<td>[1219103, 3002714378, 3013153405, 3012636179, ...</td>
<td>[3002714378, 3013153405, 6736, 3012636179, 300...</td>
<td>Automated External Defibrillators (Non-Wearable)</td>
<td>Cardiovascular</td>
<td>870.5310</td>
<td>3</td>
</tr>
</tbody>
</table>

<p>5 rows × 29 columns</p>
</div>
</div>
</div>
<p>It looks like there’s 29 different qualitative columns and over 150,000 rows. I will be using this data to analyze the medical device industry and the companies that make up the industry, so I will primarily be focused on gathering more information about the financial information of the top 100 medical device companies.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df_510k.to_csv(<span class="st">'./outputs/fda.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sec-edgar-10k-annual-financial-filings" class="level3">
<h3 class="anchored" data-anchor-id="sec-edgar-10k-annual-financial-filings"><strong>SEC EDGAR 10(K) Annual Financial Filings</strong></h3>
<p>The second data source is the <a href="https://www.sec.gov/edgar/sec-api-documentation"><strong>SEC EDGAR</strong></a> database, which is the Federal Government Body responsible for regulating and approving financial filings for publicly traded companies. Specifically, I will be using the <a href="https://www.investopedia.com/terms/1/10-k.asp"><strong>10(K)</strong></a> filings, which are annual financial filings that publicly traded companies are required to file with the SEC. The 10(K) filings contain information about the company’s financials, business operations, and risk factors. The 10(K) filings are the most comprehensive financial filings that companies are required to file with the SEC.</p>
<p>I scrolled down to the <strong>Bulk Data</strong> section, and downloaded the companyfacts.zip folder, <a href="https://www.sec.gov/Archives/edgar/daily-index/xbrl/companyfacts.zip"><strong>here</strong></a>, which contains a JSON file with the underlying data for all the 10(K) filings of public companies currenlty stored in the SEC EDGAR database.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="2023-10-12-16-35-38.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Company Facts</figcaption>
</figure>
</div>
<p>Now that I have all the data in the <code>companyfacts.zip</code> folder, I will read the JSON file into a Pandas DataFrame so that I can start extracting the relevant information I want from it. Initially, I want to get the company name and the matching CIK number. Once I have all the unique CIKs, I will then be able allign the CIKs with the names of companies that have filed 510(K)s in my FDA dataframe. Finally, once I’ve completed this matching, I’ll be able to use this information to extract the 10(K) filing from the SEC EDGAR database for the year the company submitted their initial 510(K) application using the <code>edgar</code> package in R so that I can match quantiative financial data of the company with the qualitative data of the FDA Database.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> glob             <span class="co"># this package will help me read in all the files in the companyfacts folder </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tqdm             <span class="co"># this package will help me track the progress of the for loop because it will take a decent amount of time </span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>filenames <span class="op">=</span> glob.glob(<span class="st">'/Users/dsan/My Drive/5000-Project/Data/Raw-data/SEC/companyfacts/*.json'</span>)        <span class="co"># reading them into a list</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>sec_list <span class="op">=</span> []            <span class="co"># empy list to store rows of dataframe containing SEC Name and CIK</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="bu">file</span> <span class="kw">in</span> tqdm.tqdm(filenames):</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="bu">file</span>, <span class="st">'r'</span>) <span class="im">as</span> f:</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>            data <span class="op">=</span> json.load(f)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>            name <span class="op">=</span> data[<span class="st">"entityName"</span>]</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>            cik <span class="op">=</span> data[<span class="st">"cik"</span>]</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>            row <span class="op">=</span> {<span class="st">"CIK"</span>: cik, <span class="st">"SEC_name"</span>: name}</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>            sec_list.append(row)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span>:</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span>          <span class="co"># some files are will raise errors, so for the sake of expediency, we skip them   </span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>df_sec <span class="op">=</span> pd.DataFrame(sec_list)    <span class="co"># converting list of dictionaries to dataframe</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>df_sec.info()</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>df_sec.to_csv(<span class="st">'./outputs/sec.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>100%|██████████| 17415/17415 [07:45&lt;00:00, 37.43it/s] </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 17345 entries, 0 to 17344
Data columns (total 2 columns):
 #   Column    Non-Null Count  Dtype 
---  ------    --------------  ----- 
 0   CIK       17345 non-null  object
 1   SEC_name  17345 non-null  object
dtypes: object(2)
memory usage: 271.1+ KB</code></pre>
</div>
</div>
<p>Now that we’ve loaded the SEC EDGAR data into a Pandas DataFrame, we can see that We have the CIKs and SEC_names of 17345 different companies.</p>
</section>
</section>
<section id="next-steps-data-cleaning-to-do-list" class="level2">
<h2 class="anchored" data-anchor-id="next-steps-data-cleaning-to-do-list"><strong>Next Steps: Data Cleaning To-Do List</strong></h2>
<section id="matching-fda-company-names-with-and-sec-edgar-data" class="level3">
<h3 class="anchored" data-anchor-id="matching-fda-company-names-with-and-sec-edgar-data"><strong>Matching FDA company names with and SEC EDGAR Data</strong></h3>
<p>Now that we have the CIKs and SEC_names of 17345 different companies, we can now match the CIKs with the names of companies that have filed 510(K)s in my FDA dataframe. I will be doing that on my data-cleaning tab, here: <a href="https://ben-doolan.georgetown.domains/_site/data-cleaning/data-cleaning.html"><strong>Data Cleaning</strong></a></p>
</section>
<section id="r-edgar-package-api-pull-of-10k-filings-company-descriptions" class="level3">
<h3 class="anchored" data-anchor-id="r-edgar-package-api-pull-of-10k-filings-company-descriptions"><strong>R <code>edgar</code> Package: API Pull of 10(K) Filings Company Descriptions</strong></h3>
<p>Once I’ve matched the company names in the FDA dataset with the SEC EDGAR dataset, I will then be able to use the <code>edgar</code> package in R to pull the company description blurb on the front page of 10(K) filings for the year the company submitted their initial 510(K) application. I will be doing that on my data-cleaning tab, here: <a href="https://ben-doolan.georgetown.domains/_site/data-cleaning/data-cleaning.html"><strong>Data Cleaning</strong></a>. To check out the <code>edgar</code> package, click <a href="https://cran.r-project.org/web/packages/edgar/index.html"><strong>here</strong></a> and to check out the documentation, click <a href="https://cran.r-project.org/web/packages/edgar/edgar.pdf"><strong>here</strong></a>.</p>
</section>
<section id="newsapi-pull-via-python" class="level3">
<h3 class="anchored" data-anchor-id="newsapi-pull-via-python"><strong>NewsAPI Pull via Python</strong></h3>
<p>In order to get the latest news on companies active in the medical devices space, I’ll be running a NewsAPI query on the subset of companies I will be analyzing for my project. My project will focus on a subset of the maximum size of the 100 companies with the most 510(K) device applications in the FDA dataset. I can only choose the top 100 because NewsAPI caps requests at 100 per day. I will be doing that on my data-cleaning tab, here: <a href="https://ben-doolan.georgetown.domains/_site/data-cleaning/data-cleaning.html"><strong>Data Cleaning</strong></a>. To check out the NewsAPI, click <a href="https://newsapi.org/"><strong>here</strong></a> and to check out the documentation, click <a href="https://newsapi.org/docs/client-libraries/python"><strong>here</strong></a>.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>